rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // Regra de Depuração: Permite a qualquer pessoa listar a coleção de barracas.
    // Isto serve para isolar o erro de permissão de "list".
    match /tents {
      allow list: if true;
    }

    // Regra de Depuração: Permite a qualquer pessoa ler documentos individuais de barracas.
    match /tents/{tentId} {
      allow get: if true;

      // Permite também a leitura de sub-coleções para que a página da barraca funcione.
      match /{subcollection}/{docId} {
        allow get: if true;
      }
    }
  }
}
